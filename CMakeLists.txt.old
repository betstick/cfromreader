include_directories(src)

#file(GLOB_RECURSE SOURCES "*.cpp")
set(SOURCES 
	"binders/bdf/bdf3.cpp"
	"binders/bhd/bhd5_1.cpp"
	"binders/bnd/bnd3.cpp"
	"binders/dcx/dcx.cpp"
	"formats/flver/flver2.cpp"
	"util/compression/zlib_inf.c"
	"util/memr/memr.c"
	"util/hash_util.cpp"
	"util/filetypes.cpp"
)

add_library(cfr SHARED ${SOURCES})

set_target_properties(cfr PROPERTIES PUBLIC_HEADER cfr.hpp)
target_include_directories(cfr PRIVATE ${CMAKE_CURRENT_SOURCE_DIR})
target_include_directories(cfr PRIVATE "${CMAKE_CURRENT_SOURCE_DIR}/src")
target_include_directories(cfr PRIVATE "${CMAKE_CURRENT_SOURCE_DIR}/..")

install(TARGETS cfr LIBRARY DESTINATION /usr/lib)
install(FILES cfr.hpp DESTINATION include)

install(TARGETS ${PROJECT_NAME} LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR} PERMISSIONS 
	OWNER_READ OWNER_WRITE 
	GROUP_READ WORLD_READ )

set(SOURCES a b c d)
message("${my_list}")